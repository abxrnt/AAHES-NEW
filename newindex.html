<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AAHES | CEE Guide</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&display=swap" rel="stylesheet">

  <link rel="icon" type="image/png" href="favicon.jpeg">

  <style>
    :root{
      --accent-1:#10b981; /* emerald */
      --accent-2:#16a34a;
      --soft-bg: linear-gradient(180deg,#f6fffa 0%, #ffffff 100%);
    }
    html,body{height:100%}
    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--soft-bg);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* fast lightweight fade/slide animations for SPA */
    .fade-in {
      animation: fadeIn 280ms ease-out both;
    }
    .fade-out {
      animation: fadeOut 200ms ease-in both;
    }
    @keyframes fadeIn {
      from { opacity:0; transform: translateY(6px); }
      to { opacity:1; transform: translateY(0); }
    }
    @keyframes fadeOut {
      from { opacity:1; transform: translateY(0); }
      to { opacity:0; transform: translateY(-6px); }
    }

    /* blink dot */
    .blink-dot {
      width:10px;height:10px;border-radius:999px;background:#16a34a;display:inline-block;margin-right:8px;
      animation: blink 1s infinite;
    }
    @keyframes blink {
      0%,50%,100%{opacity:1}
      25%,75%{opacity:0}
    }

    /* navbar link underline */
    .nav-link { position:relative; font-weight:600; }
    .nav-link::after{
      content:''; position:absolute; left:0; bottom:-6px; width:0; height:2px; background:rgba(16,185,129,0.95);
      transition:width .22s ease;
    }
    .nav-link:hover::after{ width:100%; }

    /* mobile menu */
    #mobile-menu{ transition: transform .22s ease, opacity .22s ease; transform-origin:top; }
    #mobile-menu.hidden{ transform:scaleY(0); opacity:0; height:0; overflow:hidden; pointer-events:none; }
    #mobile-menu.open{ transform:scaleY(1); opacity:1; }

    /* small utility */
    .glass { background: rgba(255,255,255,0.8); backdrop-filter: blur(6px); border:1px solid rgba(16,185,129,0.06); }

    /* nice card */
    .card { background:white; border-radius:14px; box-shadow: 0 6px 20px rgba(16,24,40,0.06); padding:18px; }

    /* active tab styling */
    .tab-active { color:white !important; background: linear-gradient(90deg,var(--accent-1),var(--accent-2)); border-radius:10px; padding:6px 12px; }

    /* small responsive tweaks */
    @media (max-width:640px){
      .typed-break{display:block}
    }
  </style>
</head>

<body class="text-slate-900">

  <!-- NAVBAR -->
  <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="flex items-center gap-4 py-3">
        <!-- Logo + Title -->
        <div class="flex items-center gap-3">
        <img src="logo.jpeg" alt="AAHES Logo" class="w-11 h-11 rounded-full object-cover border border-gray-100 shadow-sm">
        <div class="leading-none">
          <a href="#/" id="brand" class="text-2xl font-extrabold text-green-700" style="font-family: 'Playfair Display', serif">AAHES</a>
          <div class="text-xs text-gray-500 -mt-0.5">All Assam Helpdesk for Engineering Students</div>
        </div>
      </div>

        <!-- Desktop tabs -->
        <ul id="desktopTabs" class="hidden md:flex ml-auto gap-2 items-center">
          <li><button data-tab="home" class="nav-link px-3 py-2 rounded-md text-sm">Home</button></li>
          <li><button data-tab="syllabus" class="nav-link px-3 py-2 rounded-md text-sm">Syllabus</button></li>
          <li class="relative">
            <button id="ceeBtn" class="nav-link px-3 py-2 rounded-md text-sm flex items-center gap-1">CEE Aspirant
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-slate-600" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <!-- small dropdown -->
            <div id="ceeDropdown" class="absolute right-0 mt-2 w-40 bg-white border rounded-md shadow-lg py-1 hidden">
              <button data-tab="syllabus" class="block w-full text-left px-3 py-2 text-sm hover:bg-slate-50">Syllabus</button>
              <button data-tab="cutoffs" class="block w-full text-left px-3 py-2 text-sm hover:bg-slate-50">Cutoffs</button>
              <button data-tab="placements" class="block w-full text-left px-3 py-2 text-sm hover:bg-slate-50">Placements</button>
              <button data-tab="campus" class="block w-full text-left px-3 py-2 text-sm hover:bg-slate-50">Campus</button>
              <button data-tab="pyqs" class="block w-full text-left px-3 py-2 text-sm hover:bg-slate-50">PYQs</button>
            </div>
          </li>
          <li><button data-tab="cutoffs" class="nav-link px-3 py-2 rounded-md text-sm">Cutoffs</button></li>
          <li><button data-tab="placements" class="nav-link px-3 py-2 rounded-md text-sm">Placements</button></li>
          <li><button data-tab="campus" class="nav-link px-3 py-2 rounded-md text-sm">Campus</button></li>
          <li><button data-tab="pyqs" class="nav-link px-3 py-2 rounded-md text-sm">PYQs</button></li>
          <li><button data-tab="contact" class="nav-link px-3 py-2 rounded-md text-sm">Contact</button></li>
        </ul>

        <!-- Mobile menu button -->
        <div class="ml-auto md:hidden">
          <button id="menu-btn" aria-label="Open menu" class="p-2 rounded-md bg-white border shadow-sm focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
          </button>
        </div>

      </div>
    </div>

    <!-- Mobile nav -->
    <div id="mobile-menu" class="md:hidden px-4 pb-4 hidden">
      <div class="flex flex-col gap-2">
        <button data-tab="home" class="text-left px-3 py-2 rounded-md">üè† Home</button>
        <button data-tab="syllabus" class="text-left px-3 py-2 rounded-md">üìò Syllabus</button>
        <button data-tab="cutoffs" class="text-left px-3 py-2 rounded-md">üìä Cutoffs</button>
        <button data-tab="placements" class="text-left px-3 py-2 rounded-md">üíº Placements</button>
        <button data-tab="campus" class="text-left px-3 py-2 rounded-md">üè´ Campus</button>
        <button data-tab="pyqs" class="text-left px-3 py-2 rounded-md">üìù PYQs</button>
        <button data-tab="contact" class="text-left px-3 py-2 rounded-md">‚úâÔ∏è Contact</button>
      </div>
    </div>
  </nav>

  <!-- MAIN CONTENT: each section is a "page" -->
  <main class="max-w-6xl mx-auto px-4 md:px-8 py-8">
    <!-- Home -->
    <section id="home" class="page-section">
      <div class="text-center">
        <div class="inline-flex items-center gap-2 bg-green-50 text-green-700 font-semibold px-4 py-2 rounded-full shadow-sm">
          <span class="blink-dot"></span>
          V3.7 - New & Improved!
        </div>

        <h1 class="text-4xl md:text-5xl mt-6 font-extrabold" style="font-family:'Playfair Display', serif;">
          AAHES, Assam
        </h1>

        <p class="mt-3 text-lg text-slate-700">All Assam Helpdesk for <span class="text-green-600 font-semibold">Engineering</span> Students</p>

        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="card">
            <h3 class="text-lg font-bold text-green-700">Cutoff Analysis</h3>
            <p class="mt-2 text-sm text-slate-600">Predict colleges by rank/marks. Live cutoffs loaded from the DB.</p>
            <div class="mt-3 flex gap-2">
              <button data-tab="cutoffs" class="px-3 py-2 rounded-md bg-emerald-600 text-white text-sm">Open Cutoffs</button>
              <a href="#cutoffs" class="px-3 py-2 rounded-md border border-emerald-200 text-emerald-700 text-sm">Go</a>
            </div>
          </div>

          <div class="card">
            <h3 class="text-lg font-bold text-green-700">PYQs</h3>
            <p class="mt-2 text-sm text-slate-600">Previous year question papers for practice and pattern analysis.</p>
            <div class="mt-3">
              <button data-tab="pyqs" class="px-3 py-2 rounded-md bg-white border text-sm">Open PYQs</button>
            </div>
          </div>

          <div class="card">
            <h3 class="text-lg font-bold text-green-700">Campus & Placements</h3>
            <p class="mt-2 text-sm text-slate-600">Insights into campus life and placement statistics.</p>
            <div class="mt-3">
              <button data-tab="placements" class="px-3 py-2 rounded-md bg-white border text-sm">Explore</button>
            </div>
          </div>
        </div>

        <!-- Moving slider images -->
        <div class="mt-10 overflow-hidden relative">
          <div class="flex gap-6 animate-marquee" style="will-change:transform">
            <img src="https://www.aec.ac.in/static/media/aec-banner-main.91cf0ae4.jpg" class="w-44 h-28 object-cover rounded-lg shadow" alt="">
            <img src="https://jecassam.ac.in/wp-content/uploads/2023/11/slide1.jpg" class="w-44 h-28 object-cover rounded-lg shadow" alt="">
            <img src="https://gecassam.ac.in/wp-content/uploads/2024/12/VIST-GEC.jpeg" class="w-44 h-28 object-cover rounded-lg shadow" alt="">
            <img src="https://www.bvec.ac.in/images/slide/1534516181.jpg" class="w-44 h-28 object-cover rounded-lg shadow" alt="">
            <!-- duplicates -->
            <img src="https://www.aec.ac.in/static/media/aec-banner-main.91cf0ae4.jpg" class="w-44 h-28 object-cover rounded-lg shadow" alt="">
            <img src="https://jecassam.ac.in/wp-content/uploads/2023/11/slide1.jpg" class="w-44 h-28 object-cover rounded-lg shadow" alt="">
          </div>
        </div>

        <div class="mt-8 flex justify-center gap-4">
          <a href="https://chat.whatsapp.com/L6RRF1a8l4cCzeuVEl7xLN" target="_blank" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-emerald-600 text-emerald-600 font-semibold">Join Us on Whatsapp</a>
        </div>
      </div>
    </section>

    <!-- SYLLABUS -->
    <section id="syllabus" class="page-section hidden">
      <div class="mb-6">
        <h2 class="text-3xl font-extrabold text-green-700">Syllabus (Sample)</h2>
        <p class="mt-2 text-slate-600">Chapter-wise breakdown (sample dummy data). Expand and edit as needed.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Physics -->
        <div class="card">
          <h3 class="text-lg font-bold">Class 12 - Physics</h3>
          <ul class="mt-3 list-disc pl-5 text-sm text-slate-700 space-y-1">
            <li><strong>Electrostatics</strong> ‚Äî Gauss law, Coulomb's law, capacitors</li>
            <li><strong>Current Electricity</strong> ‚Äî circuits, Kirchhoff's rules</li>
            <li><strong>Optics</strong> ‚Äî interference, diffraction, polarization</li>
            <li><strong>Modern Physics</strong> ‚Äî photoelectric effect, atomic models</li>
          </ul>
        </div>

        <!-- Chemistry -->
        <div class="card">
          <h3 class="text-lg font-bold">Class 12 - Chemistry</h3>
          <ul class="mt-3 list-disc pl-5 text-sm text-slate-700 space-y-1">
            <li><strong>Physical Chemistry</strong> ‚Äî thermodynamics, kinetics</li>
            <li><strong>Organic Chemistry</strong> ‚Äî reaction mechanisms, functional groups</li>
            <li><strong>Inorganic Chemistry</strong> ‚Äî periodicity, coordination chemistry</li>
          </ul>
        </div>

        <!-- Mathematics -->
        <div class="card">
          <h3 class="text-lg font-bold">Mathematics</h3>
          <ul class="mt-3 list-disc pl-5 text-sm text-slate-700 space-y-1">
            <li>Calculus ‚Äî differentiation, integration, applications</li>
            <li>Algebra ‚Äî matrices, sequences, series</li>
            <li>Coordinate Geometry & Trigonometry</li>
          </ul>
        </div>

        <!-- Sample downloads -->
        <div class="card">
          <h3 class="text-lg font-bold">Downloads & Resources</h3>
          <div class="mt-3 grid gap-3">
            <a class="block p-3 border rounded hover:bg-slate-50" href="#" target="_blank">B.Tech Syllabus (ASTU) - Sample PDF</a>
            <a class="block p-3 border rounded hover:bg-slate-50" href="#" target="_blank">Important Formula Sheet</a>
            <a class="block p-3 border rounded hover:bg-slate-50" href="#" target="_blank">Reference Notes</a>
          </div>
        </div>
      </div>
    </section>

    <!-- CUTOFFS (loads from Firestore) -->
    <section id="cutoffs" class="page-section hidden">
      <div class="mb-4">
        <h2 class="text-3xl font-extrabold text-green-700">Cutoff Rounds (Live)</h2>
        <p class="mt-1 text-slate-600">Cutoff data is fetched from Firestore (read-only). Use the filters to query round-wise closing ranks & marks.</p>
      </div>

      <form id="filterForm" class="glass p-4 rounded-2xl grid gap-3 md:grid-cols-4 items-end">
        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-1">College</label>
          <select id="college" class="w-full p-3 rounded-md border">
            <option value="">Select College</option>
            <option value="AEC">AEC</option>
            <option value="JEC">JEC</option>
            <option value="JIST">JIST</option>
            <option value="BBEC">BBEC</option>
            <option value="GEC">GEC</option>
            <option value="BVEC">BVEC</option>
            <option value="DEC">DEC</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-1">Branch</label>
          <select id="branch" class="w-full p-3 rounded-md border">
            <option value="">Select Branch</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-1">Category</label>
          <select id="category" class="w-full p-3 rounded-md border">
            <option value="">Select Category</option>
            <option value="GEN">GEN</option>
            <option value="OBC">OBC/MOBC</option>
            <option value="SC">SC</option>
            <option value="STP">STP</option>
            <option value="STH">STH</option>
          </select>
        </div>

        <div class="flex gap-2">
          <button id="submitFilter" type="submit" class="px-4 py-3 rounded-md bg-emerald-600 text-white font-semibold">Submit</button>
          <button id="resetFilter" type="button" class="px-4 py-3 rounded-md border">Reset</button>
        </div>
      </form>

      <div id="result" class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6"></div>

      <div class="mt-6 flex items-center justify-between">
        <div id="cutoffStatus" class="text-sm text-slate-500">Loading cutoffs...</div>
        <div class="text-sm text-slate-500">Data source: Firestore (read-only)</div>
      </div>
    </section>

    <!-- PLACEMENTS -->
    <section id="placements" class="page-section hidden">
      <div>
        <h2 class="text-3xl font-extrabold text-green-700">Placements (Sample)</h2>
        <p class="mt-1 text-slate-600">Dummy placement stats and company insights.</p>
      </div>

      <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="card">
          <h3 class="font-bold text-green-700">AEC - Batch 2024</h3>
          <p class="mt-2 text-sm">Average package: ‚Çπ5.6 LPA</p>
          <p class="mt-1 text-sm">Top recruiters: TCS, Wipro, L&T, Infosys</p>
        </div>

        <div class="card">
          <h3 class="font-bold text-green-700">JEC - Batch 2024</h3>
          <p class="mt-2 text-sm">Average package: ‚Çπ4.8 LPA</p>
          <p class="mt-1 text-sm">Top recruiters: Cognizant, Tech Mahindra</p>
        </div>

        <div class="card">
          <h3 class="font-bold text-green-700">GEC - Highlights</h3>
          <p class="mt-2 text-sm">Highest: ‚Çπ12 LPA (Internship converted)</p>
          <p class="mt-1 text-sm">Placement prep: Resume drives & mock interviews</p>
        </div>
      </div>
    </section>

    <!-- CAMPUS -->
    <section id="campus" class="page-section hidden">
      <div>
        <h2 class="text-3xl font-extrabold text-green-700">Campus Profiles</h2>
        <p class="mt-1 text-slate-600">Short campus descriptions (dummy content).</p>
      </div>

      <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="card">
          <img src="https://www.aec.ac.in/static/media/aec-banner-main.91cf0ae4.jpg" class="w-full h-36 object-cover rounded-md" alt="">
          <h4 class="mt-3 font-bold">Assam Engineering College</h4>
          <p class="text-sm text-slate-600 mt-1">Historic institute with strong alumni network.</p>
        </div>

        <div class="card">
          <img src="https://jecassam.ac.in/wp-content/uploads/2023/11/slide1.jpg" class="w-full h-36 object-cover rounded-md" alt="">
          <h4 class="mt-3 font-bold">Jorhat Engineering College</h4>
          <p class="text-sm text-slate-600 mt-1">Vibrant campus life and research labs.</p>
        </div>

        <div class="card">
          <img src="https://gecassam.ac.in/wp-content/uploads/2024/12/VIST-GEC.jpeg" class="w-full h-36 object-cover rounded-md" alt="">
          <h4 class="mt-3 font-bold">GEC</h4>
          <p class="text-sm text-slate-600 mt-1">Growing industry ties and placements.</p>
        </div>
      </div>
    </section>

    <!-- PYQS -->
    <section id="pyqs" class="page-section hidden">
      <div>
        <h2 class="text-3xl font-extrabold text-green-700">Previous Year Questions (PYQs)</h2>
        <p class="mt-1 text-slate-600">Download sample PYQs and practice papers.</p>
      </div>

      <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card">
          <h4 class="font-bold">CEE 2025 - Question Paper</h4>
          <p class="text-sm text-slate-600 mt-1">PDF sample.</p>
          <a href="#" class="inline-block mt-3 px-3 py-2 rounded-md border">Download</a>
        </div>

        <div class="card">
          <h4 class="font-bold">CEE 2024 - Answer Key</h4>
          <p class="text-sm text-slate-600 mt-1">Official key (sample)</p>
          <a href="#" class="inline-block mt-3 px-3 py-2 rounded-md border">Download</a>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="page-section hidden">
      <div>
        <h2 class="text-3xl font-extrabold text-green-700">Contact Us</h2>
        <p class="mt-1 text-slate-600">Reach out to the AAHES team.</p>
      </div>

      <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card">
          <h4 class="font-bold">General Enquiries</h4>
          <p class="mt-2 text-sm">Email: <a href="mailto:helpline.aahes@gmail.com" class="text-emerald-600">helpline.aahes@gmail.com</a></p>
          <p class="mt-1 text-sm">Phone: +91 xxxxx xxxxx</p>
          <p class="mt-1 text-sm">Address: Assam, India</p>
        </div>

        <div class="card">
          <h4 class="font-bold">Quick Message</h4>
          <form id="contactForm" class="mt-3 grid gap-3">
            <input type="text" id="cname" placeholder="Your name" class="p-3 rounded-md border" />
            <input type="email" id="cemail" placeholder="Your email" class="p-3 rounded-md border" />
            <textarea id="cmsg" rows="4" placeholder="Message" class="p-3 rounded-md border"></textarea>
            <button type="submit" class="px-4 py-3 rounded-md bg-emerald-600 text-white">Send</button>
          </form>
          <div id="contactStatus" class="mt-2 text-sm text-slate-500"></div>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="bg-white border-t mt-12">
    <div class="max-w-6xl mx-auto px-4 md:px-8 py-8 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <h4 class="font-bold text-green-700">Developer</h4>
        <p class="text-sm mt-2">Abishrant Shandilya (Frontend Developer)</p>
        <p class="text-sm">Abhilesh Sharma (DB Admin)</p>
      </div>
      <div>
        <h4 class="font-bold text-green-700">Contact</h4>
        <p class="text-sm mt-2">Email: <a class="text-emerald-600" href="mailto:helpline.aahes@gmail.com">helpline.aahes@gmail.com</a></p>
      </div>
      <div>
        <h4 class="font-bold text-green-700">Support</h4>
        <ul class="mt-2 text-sm text-slate-600 space-y-1">
          <li><a href="#" class="hover:underline">Help Center</a></li>
          <li><a href="#" class="hover:underline">FAQs</a></li>
          <li><a href="#" class="hover:underline">Terms</a></li>
        </ul>
      </div>
    </div>

    <div class="text-center text-sm text-slate-500 pb-6">¬© 2025 AAHES. All rights reserved.</div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    /* ---------- SPA NAVIGATION (no reload) ---------- */
    const sections = document.querySelectorAll('.page-section');
    const tabButtons = document.querySelectorAll('[data-tab]');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuBtn = document.getElementById('menu-btn');
    const ceeBtn = document.getElementById('ceeBtn');
    const ceeDropdown = document.getElementById('ceeDropdown');

    // Show given section id, hide others. Add small animation.
    function showSection(id, pushHash = true) {
      sections.forEach(sec => {
        if (sec.id === id) {
          if (sec.classList.contains('hidden')) {
            sec.classList.remove('hidden');
            sec.classList.remove('fade-out');
            sec.classList.add('fade-in');
          }
        } else {
          if (!sec.classList.contains('hidden')) {
            sec.classList.remove('fade-in');
            sec.classList.add('fade-out');
            // hide after animation
            setTimeout(()=> sec.classList.add('hidden'), 220);
          } else {
            sec.classList.add('hidden');
          }
        }
      });

      // update tab active styles (desktop)
      document.querySelectorAll('#desktopTabs button').forEach(btn=>{
        if (btn.dataset.tab === id) {
          btn.classList.add('tab-active');
        } else {
          btn.classList.remove('tab-active');
        }
      });

      // update url hash (so linkable)
      if (pushHash) history.replaceState(null, '', `#${id}`);
      window.scrollTo({top:0, behavior:'smooth'});
    }

    // attach events to all buttons with data-tab
    function attachTabEvents(root=document) {
      root.querySelectorAll('[data-tab]').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          const id = btn.dataset.tab;
          showSection(id);
          // close mobile menu if open
          mobileMenu.classList.add('hidden');
        });
      });
    }
    attachTabEvents(document);

    // mobile menu toggle
    menuBtn?.addEventListener('click', ()=>{
      if (mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.remove('hidden');
        mobileMenu.classList.add('open');
      } else {
        mobileMenu.classList.add('hidden');
        mobileMenu.classList.remove('open');
      }
    });

    // CEE dropdown open/close
    ceeBtn?.addEventListener('click', (e)=>{
      e.stopPropagation();
      ceeDropdown.classList.toggle('hidden');
    });
    document.addEventListener('click', (e)=>{
      if (!ceeDropdown.contains(e.target) && !ceeBtn.contains(e.target)) {
        ceeDropdown.classList.add('hidden');
      }
    });

    // on load: check hash or default to home
    window.addEventListener('load', ()=>{
      const id = location.hash ? location.hash.replace('#','') : 'home';
      // ensure id matches a section, else home
      if (document.getElementById(id)) showSection(id, false);
      else showSection('home', false);
    });

    /* ---------- Small utilities ---------- */
    // quick smooth marquee
    (function createMarquee(){
      const style = document.createElement('style');
      style.innerHTML = `@keyframes marquee { 0% { transform: translateX(0%);} 100% { transform: translateX(-50%);} }
        .animate-marquee{ display:flex; gap:20px; animation:marquee 24s linear infinite; }`;
      document.head.appendChild(style);
    })();

    /* ---------- Typing & counter (Home) ---------- */
    // typing
    const typedTexts = [
      "Your gateway to top engineering colleges.",
      "Resources, guidance, and support at your fingertips.",
      "Preparing Assam's future engineers for success."
    ];
    (function typingEffect(){
      let idx = 0, ch = 0, forward = true, cur = '';
      const out = document.getElementById('typed-text');
      // create container in home if missing
      if(!out){
        const el = document.createElement('div');
        el.id = 'typed-text';
        el.className='mt-4 text-lg text-slate-700';
        document.querySelector('#home .text-center').appendChild(el);
      }
      const target = document.getElementById('typed-text');
      let delay = 100;
      function tick(){
        const t = typedTexts[idx];
        if (forward){
          if (ch < t.length) { cur += t.charAt(ch++); target.innerText = cur; setTimeout(tick, delay); }
          else { forward = false; setTimeout(tick,1500); }
        } else {
          if (cur.length>0) { cur = cur.slice(0,-1); target.innerText = cur; setTimeout(tick,40); }
          else { forward=true; idx=(idx+1)%typedTexts.length; ch=0; setTimeout(tick,300); }
        }
      }
      tick();
    })();

    // count-up
    (function counter(){
      const el = document.querySelector('#count');
      if(!el){
        const d = document.createElement('div'); d.innerHTML = `<div class="mt-6 inline-flex items-center gap-2 bg-white/80 border border-emerald-100 px-4 py-2 rounded-full shadow"> <span class="blink-dot"></span> <span id="count">0</span>+ students are connected</div>`;
        document.querySelector('#home .text-center').appendChild(d);
      }
      const c = document.getElementById('count');
      let start = 0, target = 3208, dur = 1500, inc = target/(dur/16);
      function run(){ start+=inc; if(start < target){ c.innerText = Math.floor(start).toLocaleString(); requestAnimationFrame(run); } else c.innerText = target.toLocaleString(); }
      run();
    })();

    /* ---------- Contact form (dummy) ---------- */
    document.getElementById('contactForm')?.addEventListener('submit', (e)=>{
      e.preventDefault();
      document.getElementById('contactStatus').innerText = 'Thank you ‚Äî message received (dummy).';
      document.getElementById('contactForm').reset();
    });

    /* ---------- Downloads pagination in home (if needed) ---------- */
    // (left as placeholder if you want to plug pages from earlier file)


    /* ---------- FIREBASE CUTOFFS: use *same config* as provided ---------- */
  </script>

  <!-- Firebase: load & use same config (module) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

    // === same firebase config as provided by user ===
    const firebaseConfig = {
      apiKey: "AIzaSyBOVl1hdmprJXpgdN_sNTO3FsNePD_zNZY",
      authDomain: "aahes-cee-cutoffs.firebaseapp.com",
      projectId: "aahes-cee-cutoffs",
      storageBucket: "aahes-cee-cutoffs.firebasestorage.app",
      messagingSenderId: "706066626405",
      appId: "1:706066626405:web:0d254ab82beb288108938c"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // store cutoffs in memory
    let cutoffData = [];

    async function loadCutoffsFromFirestore() {
      try {
        const snap = await getDocs(collection(db, "cutoffs"));
        cutoffData = snap.docs.map(d => d.data());
        document.getElementById('cutoffStatus').innerText = `Loaded ${cutoffData.length} cutoff records.`;
        console.log("Loaded cutoffs:", cutoffData);
      } catch (err) {
        console.error("Error loading cutoffs:", err);
        document.getElementById('cutoffStatus').innerText = `Failed to load cutoffs (see console).`;
      }
    }

    // Immediately load
    await loadCutoffsFromFirestore();

    // Populate branch select based on college selection
    const collegeSelect = document.getElementById('college');
    const branchSelect = document.getElementById('branch');
    const categorySelect = document.getElementById('category');
    const resultDiv = document.getElementById('result');
    const filterForm = document.getElementById('filterForm');

    collegeSelect?.addEventListener('change', (e)=>{
      const val = e.target.value;
      branchSelect.innerHTML = `<option value="">Select Branch</option>`;
      if (!val) return;
      const branches = [...new Set(cutoffData.filter(d=>d.college===val).map(d=>d.branch))];
      branches.forEach(b=>{
        const opt = document.createElement('option'); opt.value = b; opt.textContent = b; branchSelect.appendChild(opt);
      });
    });

    // Filter submit
    filterForm?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const college = collegeSelect.value;
      const branch = branchSelect.value;
      const cat = categorySelect.value;
      if (!college || !branch || !cat) {
        resultDiv.innerHTML = `<div class="col-span-3 text-red-500 font-semibold">‚ö†Ô∏è Please fill all fields.</div>`;
        return;
      }

      // find available rounds (1,2,3,... may be strings)
      const rounds = [...new Set(cutoffData.filter(d=>d.college===college && d.branch===branch && d.cat===cat).map(d=>d.round))].sort();
      if (rounds.length === 0) {
        resultDiv.innerHTML = `<div class="text-center text-slate-600 mt-8">No data found for ${college} - ${branch} (${cat})</div>`;
        return;
      }

      // for each round, show the record(s)
      let html = '';
      rounds.forEach(r=>{
        const rec = cutoffData.find(d => d.college===college && d.branch===branch && d.cat===cat && String(d.round) === String(r));
        if (!rec) return;
        html += `
          <div class="glass p-5 rounded-xl shadow">
            <h3 class="text-xl font-bold text-green-700 mb-2">Round ${rec.round}</h3>
            <p><strong>College:</strong> ${rec.college}</p>
            <p><strong>Branch:</strong> ${rec.branch}</p>
            <p><strong>Category:</strong> ${rec.cat}</p>
            <p class="text-3xl font-extrabold text-green-800 mt-2">Closing Rank: ${rec.close ?? 'N/A'}</p>
            <p class="text-lg font-bold text-green-700 mt-2">Marks: ${rec.marks ?? 'N/A'}</p>
          </div>
        `;
      });

      resultDiv.innerHTML = html;
      // subtle animate
      resultDiv.querySelectorAll('.glass').forEach((el,i) => { el.style.animation = `fadeIn 220ms ease ${i*40}ms both`; });
    });

    // reset
    document.getElementById('resetFilter')?.addEventListener('click', ()=>{
      filterForm.reset();
      branchSelect.innerHTML = `<option value="">Select Branch</option>`;
      resultDiv.innerHTML = '';
    });

  </script>

  <!-- final tiny script to attach data-tab listeners again to dynamically created elements inside dropdown -->
  <script>
    // attach events to dropdown buttons too
    document.querySelectorAll('#ceeDropdown [data-tab]').forEach(b=>{
      b.addEventListener('click', ()=> {
        const id = b.dataset.tab;
        showSection(id);
        ceeDropdown.classList.add('hidden');
      });
    });
    // also attach to inner buttons (home cards)
    attachTabEvents(document);
  </script>

</body>
</html>
